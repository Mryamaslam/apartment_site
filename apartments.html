﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿﻿<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>City Scape Faletti’s Service Apartments | Our Apartments</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <img loading="lazy" src="assets/images/logo-cityscape-fixed.png" alt="Cityscape Logo" class="d-lg-none me-2" style="height: 60px; filter: invert(1);">
                <img loading="lazy" src="assets/images/logo-falletes.png" alt="Fallete's Logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-block';">
                <span style="display:none; font-weight:bold; color:var(--primary-red);">FALLETE'S</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link active" href="apartments.html">Apartments</a></li>
                    <li class="nav-item"><a class="nav-link" href="amenities.html">Amenities</a></li>
                    <li class="nav-item"><a class="nav-link" href="location.html">Location</a></li>
                    <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
                    <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>

                </ul>
            </div>
            <div class="d-flex align-items-center d-none d-lg-flex">
                <!-- Right Logo (Developer) -->
                <a class="navbar-brand ms-3" href="#">
                    <img loading="lazy" src="assets/images/logo-cityscape-fixed.png" alt="Cityscape Logo" style="filter: invert(1);" onerror="this.style.display='none'; this.nextElementSibling.style.display='inline-block';">
                     <span style="display:none; font-size:0.8rem; color:var(--text-dark);">Cityscape</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <header class="bg-red py-5 text-center">
        <div class="container">
            <h1 class="text-white display-4">Luxury Apartments</h1>
            <p class="lead text-white-50">Find your perfect home with our advanced search</p>
        </div>
    </header>

    <!-- Search Filters -->
    <section class="bg-dark py-4 sticky-top" style="top: 70px; z-index: 1000;">
        <div class="container">
            <div class="row g-3 align-items-center">
                <div class="col-md-2 col-6">
                    <label class="text-white-50 small mb-1">Price</label>
                    <select class="form-select bg-secondary text-white border-secondary" id="filter-price">
                        <option value="all">All</option>
                        <option value="under-10m">Under 10 Million</option>
                        <option value="10m-15m">10M - 15M</option>
                        <option value="above-15m">Above 15 Million</option>
                    </select>
                </div>
                <div class="col-md-2 col-6">
                    <label class="text-white-50 small mb-1">Bedrooms</label>
                    <select class="form-select bg-secondary text-white border-secondary" id="filter-bedrooms">
                        <option value="all">All</option>
                        <option value="studio">Studio</option>
                        <option value="1">1 Bedroom</option>
                        <option value="2">2 Bedrooms</option>
                    </select>
                </div>
                <div class="col-md-2 col-6">
                    <label class="text-white-50 small mb-1">Bathrooms</label>
                    <select class="form-select bg-secondary text-white border-secondary" id="filter-bathrooms">
                        <option value="all">All</option>
                        <option value="1">1 Bathroom</option>
                        <option value="2">2 Bathrooms</option>
                    </select>
                </div>
                <div class="col-md-3 col-6">
                    <label class="text-white-50 small mb-1">Location</label>
                    <select class="form-select bg-secondary text-white border-secondary" id="filter-location">
                        <option value="all">All</option>
                        <option value="lahore">Lahore</option>
                    </select>
                </div>
                <div class="col-md-3">
                    <label class="d-none d-md-block mb-1">&nbsp;</label>
                    <button class="btn btn-outline-warning w-100" id="btn-reset">Reset</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Apartments List -->
    <section class="py-5">
        <div class="container">
            <div class="row" id="apartments-container">
                <!-- Content will be injected via JS -->
            </div>
            <div id="no-results" class="text-center py-5 d-none">
                <h3 class="text-muted">No apartments found matching your criteria.</h3>
                <button class="btn btn-primary-custom mt-3" onclick="resetFilters()">Clear Filters</button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5">
        <div class="container">
            <!-- Logo Row -->
            <div class="row mb-4">
                <div class="col-12">
                    <img loading="lazy" src="assets/images/logo-cityscape-fixed.png" alt="Fallete's Logo" style="max-height: 100px;">
                </div>
            </div>

            <div class="row">
                <!-- Brand Column -->
                <div class="col-lg-4 mb-4 mb-lg-0">
                    <h4 class="text-warning mb-3">Fallete’s Service Apartments</h4>
                    <p class="text-white-50 mb-3">Fallete’s Service Apartments are perfectly located between Adda Plot, Ring Road, Lake City, and Bahria Town. Less travel time. More life.</p>
                    <p class="text-white-50 mb-0">Professionally serviced & managed by Fallete’s — A project of Man-o-Salva & Motisam Sons Associates, trusted developers with market credibility.</p>
                </div>

                <!-- Quick Links -->
                <div class="col-lg-2 mb-4 mb-lg-0">
                    <h4 class="text-warning mb-3">Quick Links</h4>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="index.html" class="text-white text-decoration-none">Home</a></li>
                        <li class="mb-2"><a href="apartments.html" class="text-white text-decoration-none">Apartments</a></li>
                        <li class="mb-2"><a href="amenities.html" class="text-white text-decoration-none">Amenities</a></li>
                        <li class="mb-2"><a href="location.html" class="text-white text-decoration-none">Location</a></li>
                        <li class="mb-2"><a href="contact.html" class="text-white text-decoration-none">Contact</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div class="col-lg-6">
                    <h4 class="text-warning mb-3">Location</h4>
                    <ul class="list-unstyled">
                        <li class="mb-2 d-flex align-items-start">
                            <i class="fas fa-map-marker-alt text-warning mt-1 me-2 flex-shrink-0" style="width: 20px;"></i>
                            <span><strong>Site Location:</strong> Apartment site Lahore villas 11km Raiwind Road Near Adda Plot Lahore</span>
                        </li>
                        <li class="mb-2 d-flex align-items-start">
                            <i class="fas fa-building text-warning mt-1 me-2 flex-shrink-0" style="width: 20px;"></i>
                            <span><strong>Head Office:</strong> MUN O SALVA Associates 42 A Iqbal Block Commercial sector E Bahria Town Lahore</span>
                        </li>
                        <li class="mb-2 d-flex align-items-center">
                            <i class="fas fa-phone text-warning me-2 flex-shrink-0" style="width: 20px;"></i>
                            <a href="tel:+923004485455" class="text-white text-decoration-none">+92 300 4485455</a>
                        </li>
                        <li class="mb-2 d-flex align-items-center">
                            <i class="fas fa-envelope text-warning me-2 flex-shrink-0" style="width: 20px;"></i>
                            <a href="mailto:info@falletes.com" class="text-white text-decoration-none">info@falletes.com</a>
                        </li>
                        <li class="mb-2 d-flex align-items-center">
                            <i class="fab fa-facebook-f text-warning me-2 flex-shrink-0" style="width: 20px;"></i>
                            <a href="https://www.facebook.com/p/City-Scape-Heights-61560563482822/" target="_blank" class="text-white text-decoration-none">Fallete's Service Apartments</a>
                        </li>
                        <li class="mb-2 d-flex align-items-center">
                            <i class="fab fa-instagram text-warning me-2 flex-shrink-0" style="width: 20px;"></i>
                            <a href="https://www.instagram.com/cityscape_heights_/" target="_blank" class="text-white text-decoration-none">cityscape_heights_</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="row mt-4 pt-3 border-top border-secondary">
                <div class="col-12 text-center text-white-50">
                    <p class="mb-0">&copy; 2025 Fallete’s Service Apartments. Developed by Man-o-Salva & Motisam Sons Associates.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Data JS -->
    <script src="js/data.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const container = document.getElementById('apartments-container');
            const noResults = document.getElementById('no-results');
            
            // Filter Elements
            const filterPrice = document.getElementById('filter-price');
            const filterBedrooms = document.getElementById('filter-bedrooms');
            const filterBathrooms = document.getElementById('filter-bathrooms');
            const filterLocation = document.getElementById('filter-location');
            const btnReset = document.getElementById('btn-reset');

            let allApartments = [];

            // 1. Flatten Data
            function loadData() {
                allApartments = [];
                // Map over the categories in apartmentData
                for (const [key, category] of Object.entries(apartmentData)) {
                    let beds = 0;
                    let baths = 1;
                    
                    if (key === 'studio') { beds = 'studio'; baths = 1; }
                    else if (key === '1-bed') { beds = '1'; baths = 1; }
                    else if (key === '2-bed') { beds = '2'; baths = 2; }
                    
                    category.subUnits.forEach(unit => {
                        allApartments.push({
                            ...unit,
                            categoryType: key, // 'studio', '1-bed', '2-bed'
                            beds: beds,
                            baths: baths,
                            location: 'lahore',
                            numericPrice: parsePrice(unit.price)
                        });
                    });
                }
                renderApartments(allApartments);
            }

            // Helper to parse price string "5,412,000" -> 5412000
            function parsePrice(priceStr) {
                if (!priceStr) return 0;
                return parseInt(priceStr.replace(/,/g, ''), 10);
            }

            // 2. Render Function
            function renderApartments(list) {
                container.innerHTML = '';
                if (list.length === 0) {
                    noResults.classList.remove('d-none');
                    return;
                }
                noResults.classList.add('d-none');

                list.forEach(unit => {
                    const col = document.createElement('div');
                    col.className = 'col-lg-4 col-md-6 mb-4';
                    
                    let bedsDisplay = unit.beds === 'studio' ? 'Studio' : unit.beds + ' Bed';
                    
                    col.innerHTML = `
                        <div class="card h-100 shadow-sm border-0">
                            <div class="position-relative overflow-hidden" style="height: 250px;">
                                <img loading="lazy" src="${unit.image}" class="img-fluid w-100 h-100 object-fit-cover" alt="${unit.name}" onerror="this.src='assets/images/logo-falletes.png'">
                                <div class="position-absolute top-0 end-0 bg-danger text-white px-3 py-1 m-2 rounded-pill">PKR ${unit.price}</div>
                                <div class="position-absolute bottom-0 start-0 bg-dark text-white px-3 py-1 m-2 rounded bg-opacity-75">${unit.size} Sq. Ft.</div>
                            </div>
                            <div class="card-body">
                                <h4 class="card-title fw-bold">${unit.name}</h4>
                                <div class="d-flex justify-content-between text-muted mb-3 small">
                                    <span><i class="fas fa-bed me-1"></i> ${bedsDisplay}</span>
                                    <span><i class="fas fa-bath me-1"></i> ${unit.baths} Bath</span>
                                    <span><i class="fas fa-map-marker-alt me-1"></i> Lahore</span>
                                </div>
                                <a href="detail.html?type=${unit.categoryType}&id=${unit.id}" class="btn btn-primary-custom w-100">View Details</a>
                            </div>
                        </div>
                    `;
                    container.appendChild(col);
                });
            }

            // 3. Filter Logic
            function filterApartments() {
                const priceVal = filterPrice.value;
                const bedsVal = filterBedrooms.value;
                const bathsVal = filterBathrooms.value;
                const locVal = filterLocation.value;

                const filtered = allApartments.filter(unit => {
                    // Price Filter
                    let priceMatch = true;
                    if (priceVal === 'under-10m') priceMatch = unit.numericPrice < 10000000;
                    else if (priceVal === '10m-15m') priceMatch = unit.numericPrice >= 10000000 && unit.numericPrice <= 15000000;
                    else if (priceVal === 'above-15m') priceMatch = unit.numericPrice > 15000000;

                    // Beds Filter
                    let bedsMatch = true;
                    if (bedsVal !== 'all') {
                        bedsMatch = String(unit.beds) === bedsVal;
                    }

                    // Baths Filter
                    let bathsMatch = true;
                    if (bathsVal !== 'all') {
                        bathsMatch = String(unit.baths) === bathsVal;
                    }

                    // Location Filter
                    let locMatch = true;
                    if (locVal !== 'all') {
                        locMatch = unit.location === locVal;
                    }

                    return priceMatch && bedsMatch && bathsMatch && locMatch;
                });

                renderApartments(filtered);
            }

            // Event Listeners
            filterPrice.addEventListener('change', filterApartments);
            filterBedrooms.addEventListener('change', filterApartments);
            filterBathrooms.addEventListener('change', filterApartments);
            filterLocation.addEventListener('change', filterApartments);

            // Reset
            window.resetFilters = function() {
                filterPrice.value = 'all';
                filterBedrooms.value = 'all';
                filterBathrooms.value = 'all';
                filterLocation.value = 'all';
                renderApartments(allApartments);
            };
            
            btnReset.addEventListener('click', resetFilters);

            // Initialize
            loadData();
        });
    </script>
</body>
</html>

